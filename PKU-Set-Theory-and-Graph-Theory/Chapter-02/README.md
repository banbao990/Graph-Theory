# 第二章 道路与回路

## 2.1 道路与回路概述

### 2.1.1 路径

+ 无向图 $G$

  + 无向图 $G$ 的一个有限点边交替序列 $P=\lbrace v_0,e_1,v_1,e_2,v_2,...,e_m,v_m  \rbrace$
  
    若对 $\forall i \in \lbrack 1,m \rbrack \land N,e_i$ 的端点是 $v_{i-1}$ 和 $v_i$ , 则称 $P$ 是图 $G$ 的一条**路径** 
    
    + $v_0$ 称为 $P$ 的**起点**
    + $v_m$ 称为 $P$ 的**终点**
    + $m$ 称为 $P$ 的**长度**
    
  + 边均不相同的路径称为**链**
  
  + 结点均不相同(**起点和终点允许相同**)的路径称为**道路**/**路**
  
  + 起点和终点相同的路径称为**闭路径**
  
  + 起点和终点相同的链称为**闭链**
  
  + 起点和终点相同的道路称为**回路**

+ 有向图 $D$ 

  + 有向图 $D$ 的一个有限点边交替序列 $P=\lbrace v_0,e_1,v_1,e_2,v_2,...,e_m,v_m  \rbrace$

    若对 $\forall i \in \lbrack 1,m \rbrack \land N,e_i=(v_{i-1},v_i)$ , 则称 $P$ 是图 $D$ 的一条**有向路径** 

  + **起点**,**终点**,**长度**

  + **有向链**, **有向道路**, **有向闭链**, **有向回路**, **有向闭路径**

+ **弦**

  + 设 $C$ 是无向简单图 $G$ 中含顶点数大于 $3$ 的一个回路, 如果结点 $v_i$ 和 $v_j$ 在 $G$ 中不相邻

    但$(v_i,v_j) \in E(G)$, 则称 $(v_i,v_j)$ 是 $C$ 的一条**弦**

+ 问题解决
  
  + 起始状态(结点), 目标状态(结点), 动作(边)
  + 三个量筒 $(3,5,8)$ 分别装了 $(0,0,8)$ 的水, 怎么得到两个 $4$ 的水
    + 寻找一条从 $(0,0,8)$ 到 $(0,4,4)$ 的有向路径

---

+ $给定无向图G,若 \delta(G) \geq 2,则G必包含回路$
+ 非简单图显然, 简单图**极大路径法**(**极大性原则**/**极小性原则**)

---

---

+ $若 \delta(G) \geq 3, 则G中必含带弦回路$
+ **极大路径法**

---

### 2.1.2 连通(考虑简单图)

+ 在无向图 $G$ 中, 若两结点 $u,v$ 之间存在路径, 则称 $u,v$ 是**连通**的, 记作 $u \sim v$
  + 是一种 **等价关系**
  + 规定 $u \sim u$
+ 若图中任意两个顶点都是连通的, 就称 $G$ 是**连通图**
  否则则称 $G$ 是**非连通图**/**分离图**
+ 若 $u,v$ 之间存在路径, 必存在路(**极小路径法**)

+ 连通关系 $"\sim"$ 是 $V(G)$ 上的等价关系

  设**商集** $\frac{V(G)}{\sim}=\lbrace V_1,...,V_k \rbrace$ 

  则导出子图 $G[V_i],(1 \leq i \leq k)$ 为 $G$ 的**极大连通子图**, 称为 $G$ 的**连通分支**

  $k$ 称为 $G$ 的**连通分支数**, 记作 $\kappa(G)$

+ $\kappa(G)=1 \Leftrightarrow $ $G$ 是连通图

  $\kappa(G) > 1 \Leftrightarrow  $ $G$ 是非连通图, $G$ 可以表示成 $\kappa(G)$ 个连通分支的并 $\Leftrightarrow$ $G=\bigcup_{i=1}^kG[V_i]$ 

---

+ $设图G是无向简单图,\kappa(G)=k,则有 n-k \leq m \leq \frac12(n-k)(n-k-1) $
+ $k=1 \Leftrightarrow n-1 \leq m \leq \frac12n(n-1) $
  + 只需证明 $n-1 \leq m$
  + **归纳法**
+ $k > 1,连通分支的和$
  + $a(a+1)+b(b+1) \leq (a+b)(a+b+1), \forall a,b \geq 0$

---

+ **树** : $G是连通图,|E(G)|=|V(G)|-1$

### 2.1.3 距离

+ 无向图 $G$ 中

  + 若结点 $u,v$ 是连通的, 则称$u,v$之间长度最短的路径为 $u,v$ 之间的**短程线**(**测地线**)

    短程线的长度称为 $u$ 到 $v$ 的距离, 记作 $d(u,v)$

  + 若结点 $u,v$ 是不连通的, $d(u,v)= +\infty$ 

  + $d(u,v) \geq 0,当且仅当u=v时等号成立$
  + $d(u,v)=d(v,u)$
  + $d(u,v)+d(v,w) \geq d(u,w)$

+ **直径** : $d(G)=max \lbrace d(u,v):u,v \in V(G) \rbrace$

### 2.1.4 r部图/二部图

+ 若无向图 $G$ 的结点集 $V$ 存在一个 $r(r \geq 2)$划分$(V_1,...,V_r)$,

  使得 $G$ 中每一条边的两个端点都分别属于不同的 $V_i$ ,

  则称 $G$ 是 **$r$ 部图**, 记作 $G=(V_1,...,V_r:E)$ 

+ **完全 $r$ 部图**

  $G$ 是 $r$ 部简单图, 且 $\forall i,j \in \lbrace (i \in N) \land (j \in N) \land(1 \leq i < j \leq r) \rbrace$,$V_i$中所有结点与$V_j$中所有结点都相邻

  则称 $G$ 是**完全 $r$ 部图**, 记作 $G=K_{n_1,...,n_r}$, 其中 $n_i=|V_i|$

---

+ $无向图G是二部图 \Leftrightarrow G中不包含奇回路$

+ $\Leftarrow:$

  + 非连通图, 考虑其连通分支

  + 连通图, 取定一点 $v_0$

    + 二部 : $V_1 = \lbrace v \in V(G):d(v_0,v)$ $is$ $even \rbrace $

      ​           $V_2 = \lbrace v \in V(G):d(v_0,v)$ $is$ $odd \rbrace$

+ $ \Rightarrow:$

  + 证明 $V_1$ 内的任意两点不相邻
  + $V_2$ 同理

---

+ $任何一个奇闭路径都有一个奇回路$

+ **最短奇闭路径**, 断言其为奇回路

---

### 2.1.5 有向图的连通问题

+ 有向图 $D$, $u,v \in V(D)$
  + **可达关系**
  + $u \rightarrow v:$ $u$ **可达** $v$, 存在一条从 $u$ 到 $v$ 的有向路径
  + 约定 $u \rightarrow u$
+ **强连通图**/**双向连通图** : $D$ 中任意两点互相可达
+ **单连通图** : $D$ 中任意两点 $u,v,u \rightarrow v$ 或者 $v \rightarrow u$ 
+ **弱连通图** : $D$ 的基图是连通图
+ 强连通 $\Rightarrow$ 单连通 $\Rightarrow$弱连通

+ **强连通分支**
  + 有向图的所有边不一定都在某一强连通分支中
  + $D \ne \bigcup_{i=1}^kG \lbrack V_i \rbrack$

---

+ $设D是有向图$
  + $D是强连通图 \Leftrightarrow 存在一条闭路径包含D的所有顶点$
  + $D是单连通图 \Leftrightarrow 存在一条路径包含D的所有顶点$

---

### 2.1.6 反圈

+ **反圈** : **有向无环图**$(DAG)$

  + 将有向图的每一个强连通分支收缩成一个点形成的图是**反圈**
  + 反圈存在**拓扑排序**

+ 拓扑排序

  + $D$ 是反圈, $|V(D)|=n$, 则存在一个从 $V(D)$ 到 $\lbrace i:(i \in N) \land (\ 1 \leq i \leq n) \rbrace$ 的**双射 **$T$

    能够满足 $(u,v) \in E(D) \Rightarrow T(u) < T(v) $

+ [拓扑排序算法](../../Algorithm/topological-sort.cpp)

